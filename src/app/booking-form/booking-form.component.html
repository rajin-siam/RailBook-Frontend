<div class="booking-container">
    <h2>Book Your Train Ticket</h2>
    
    <form (ngSubmit)="onSubmit()">
      
      <!-- Journey Details Section -->
      <div class="section">
        <h3>Journey Details</h3>
        
        <div class="form-group">
          <label>Source (From):</label>
          <input 
            type="text" 
            [(ngModel)]="booking.source" 
            name="source"
            placeholder="Enter source station"
            required>
        </div>
  
        <div class="form-group">
          <label>Destination (To):</label>
          <input 
            type="text" 
            [(ngModel)]="booking.destination" 
            name="destination"
            placeholder="Enter destination station"
            required>
        </div>
  
        <div class="form-group">
          <label>Price Per Ticket:</label>
          <input 
            type="number" 
            [(ngModel)]="booking.perTicketPrice" 
            name="perTicketPrice"
            placeholder="0"
            required>
        </div>
      </div>
  
      <!-- Passengers Section -->
      <div class="section">
        <h3>Passenger Details</h3>
        
        <div *ngFor="let passenger of booking.passengers; let i = index" class="passenger-card">
          <h4>Passenger {{i + 1}}</h4>
          
          <div class="form-group">
            <label>Name:</label>
            <input 
              type="text" 
              [(ngModel)]="passenger.name" 
              [name]="'passengerName' + i"
              placeholder="Enter passenger name"
              required>
          </div>
  
          <div class="form-group">
            <label>Age:</label>
            <input 
              type="number" 
              [(ngModel)]="passenger.age" 
              [name]="'passengerAge' + i"
              placeholder="0"
              required>
          </div>
  
          <div class="form-group">
            <label>Gender:</label>
            <select 
              [(ngModel)]="passenger.gender" 
              [name]="'passengerGender' + i"
              required>
              <option value="">Select Gender</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
              <option value="Other">Other</option>
            </select>
          </div>

        <!-- Train Services Section -->
        <div class="services-section">
            <h5>Train Services:</h5>
            
            <div *ngFor="let service of passenger.trainServices; let j = index" class="service-item">
              <div class="form-group">
                <label>Service Name:</label>
                <input 
                  type="text" 
                  [(ngModel)]="service.serviceName" 
                  [name]="'serviceName' + i + j"
                  placeholder="e.g., Food, AC, WiFi">
              </div>
              
              <div class="form-group">
                <label>Service Price:</label>
                <input 
                  type="number" 
                  [(ngModel)]="service.price" 
                  [name]="'servicePrice' + i + j"
                  placeholder="0">
              </div>
              
              <button 
                type="button" 
                (click)="removeService(i, j)" 
                class="btn-remove-service">
                Remove Service
              </button>
            </div>
            
            <button 
              type="button" 
              (click)="addService(i)" 
              class="btn-add-service">
              + Add Service
            </button>
          </div>
          
  
          <button 
            type="button" 
            (click)="removePassenger(i)" 
            class="btn-remove"
            *ngIf="booking.passengers.length > 1">
            Remove Passenger
          </button>
        </div>
  
        <button type="button" (click)="addPassenger()" class="btn-add">
          + Add Another Passenger
        </button>
      </div>
  
      <!-- Submit Button -->
      <button type="submit" class="btn-submit">Book Tickets</button>
    </form>
  </div>